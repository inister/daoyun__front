<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>编辑页</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    
<script type="text/javascript">
    var id = "{{data.id}}";
    var xx = new Array();
    window.onload = function(){
      var data = "福州大学,数学与计算机科学学院.数学系.计算机科学与技术,土木工程学院.结构工程.市政工程/山西大学,数学与计算机学院.数学系.计算机科学与技术,软件学院.软件工程";
      var temp0 = data.split('/');
      var node0 = document.getElementById("sc0");
      for (var i = 0; i < temp0.length; i++){
          var temp1 = temp0[i].split(',');
          xx[temp1[0]] = new Array();
          var node1=document.createElement("option");
          node1.innerHTML = temp1[0];
          node0.appendChild(node1);
          for (var j = 1; j < temp1.length; j++){
              var temp2 = temp1[j].split('.');
              xx[temp1[0]][temp2[0]] = temp2;
          }
      }
    }
    function change(p){
        console.log('0');
        if (p == 0){
            var obj = document.getElementById("sc0");
            var t = obj.options[obj.selectedIndex].text;
            var node0 = document.getElementById("sc1");
            node0.options.length=0;
            for (var key in xx[t]){
                var node1=document.createElement("option");
                node1.innerHTML = key;
                node0.appendChild(node1);
            }
                console.log('0');
        }
        else if (p == 1){
            var obj = document.getElementById("sc0");
            var t1 = obj.options[obj.selectedIndex].text;
            var obj = document.getElementById("sc1");
            var t2 = obj.options[obj.selectedIndex].text;
            var node0 = document.getElementById("sc2");
            node0.options.length=0;
            for (var i = 1;i < xx[t1][t2].length; i++){
                var node1=document.createElement("option");
                node1.innerHTML = xx[t1][t2][i];
                node0.appendChild(node1);
            }
                console.log('1');
        }
    }
    function insert(){
        var data = sessionStorage.getItem("data");
        var temp = new Array();
        temp[0] = document.getElementById("ename").value;
        temp[1] = document.getElementById("cname").value;
        temp[2] = document.getElementById("type").value;
        temp[3] = "未应用";
        console.log(temp);
        data = temp.join('/') + ';' + data;
        sessionStorage.setItem("data", data);
        sessionStorage.setItem(temp[0]+"-d", "");
        window.open('./r-sjzd.html','_self');
    }
</script>
</head>

<body>
<div style="padding:4% 35%; text-align:center;">
    <form class="bs-example bs-example-form">
    	<h3>班课</h3>
        <div class="input-group input-group-lg">
            <span class="input-group-addon">课程名</span>
            <input type="text" class="form-control" placeholder="Twitterhandle">
        </div>
        <br>
        <div class="input-group input-group-lg">
            <span class="input-group-addon">书籍</span>
            <input type="text" class="form-control" placeholder="Twitterhandle">
        </div>
        <br>
        <div>
            <div>
                <span class="input-group-addon">学校</span>
            </div>
            <div>
                <select class="form-control" id="sc0" onclick="change(0)">
                </select>
            </div>
        </div>
        <br>
        <div>
            <div>
                <span class="input-group-addon">院系</span>
            </div>
            <div>
                <select class="form-control" id="sc1" onclick="change(1)">
                </select>
            </div>
        </div>
        <br>
        <div>
            <div>
                <span class="input-group-addon">专业</span>
            </div>
            <div>
                <select class="form-control" id="sc2" onclick="change(2)">
                </select>
            </div>
        </div>
        <br>
        <div class="input-group input-group-lg">
            <span>是否开课： </span>
            <div class="btn-group" data-toggle="buttons">
              <form>
                <label class="radio-inline"><input type="radio" name="optradio">开课</label>
                <label class="radio-inline"><input type="radio" name="optradio">暂停</label>
                <label class="radio-inline"><input type="radio" name="optradio">结课</label>
              </form>
            </div>
        </div>
        <br>
        <div class="input-group">
            <span class="input-group-addon">课程简介</span>
            <textarea class="form-control" style="width:100%; height:100px" placeholder="无"></textarea>
        </div>
        <br>
        <div class="input-group">
            <span class="input-group-addon">学习要求</span>
            <textarea class="form-control" style="width:100%; height:100px" placeholder="无"></textarea>
        </div>
        <br>
        <div class="input-group input-group-lg">
            <span class="input-group-addon">签到经验值</span>
            <input type="text" class="form-control" placeholder="2">
        </div>
        <br>
        <div class="input-group input-group-lg">
            <span class="input-group-addon">允许签到范围（km）</span>
            <input type="text" class="form-control" placeholder="1">
        </div>
        <br>
        <div>
            <button type="button" class="btn btn-info">确认修改</button>
            <button type="button" class="btn btn-danger">删除课程</button>
            <button type="button" class="btn btn-info" onclick="window.open('./r-bkgl.html','_self')">返回</button>
        </div>
        <br>
    </form>
</div>

</body>
</html>
